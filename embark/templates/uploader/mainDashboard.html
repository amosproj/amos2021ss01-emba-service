{% extends "uploader/home.html" %}
{% block maincontent %}
<div class="cardBox">
    <div class="card">
        <div class="card-title cardName">Total firmwares analyzed</div>
        <div class="card-body cardValue"></div>
    </div>
    <div class="card">
        <div class="card-title cardName">Total files</div>
        <div class="card-body cardValue"></div>
    </div>
    <div class="card">
        <div class="card-title cardName">Total directories</div>
        <div class="card-body cardValue"></div>
    </div>
    <div class="card">
        <div class="card-title cardName">Total binaries</div>
        <div class="card-body cardValue"></div>
    </div>
    <div class="card">
        <div class="card-title cardName">Total CWE</div>
        <div class="card-body cardValue"></div>
    </div>
</div>

<div class="container">
    <canvas id="loadChart"></canvas>
</div>

  <script>
    let loadChart = document.getElementById('loadChart').getContext('2d');

    get_load().then(function(returndata) {

        let lineChart = new Chart(loadChart, {
            type: 'line', // bar, horizontalBar, pie, line, doughnut, radar, polarArea
            data: {
                labels: returndata.time,
                datasets: [{
                    label: 'CPU',
                    data: returndata.cpu,
                    borderColor:'rgba(255, 127, 64, 1)',
                    backgroundColor:'rgba(255, 127, 64, 0.2)',
                    borderWidth: 2,
                    hoverBorderWidth: 8,
                    hoverBorderColor: 'rgba(255, 127, 64, 1)',
                    fill: true
                },
                {
                    label: 'MEM',
                    data: returndata.mem,
                    borderColor:'rgba(64,127,255,1)',
                    backgroundColor:'rgba(64,127,255, 0.2)',
                    borderWidth: 2,
                    hoverBorderWidth: 8,
                    hoverBorderColor:'rgba(64,127,255,1)',
                    fill: true
                }]
            },
            options: {
                title: {
                    display: false,
                    text: 'CPU / Memory utilization percentage',
                    fontSize: 25
                },
                legend: {
                    display: true,
                    position: 'right',
                    labels: {
                        fontColor: '#000'
                    }
                },
                layout: {
                    padding: {
                        left: 50,
                        right: 0,
                        bottom: 0,
                        top: 0
                    }
                },
                tooltips: {
                    enabled: true
                }
            }
        });
    });
  </script>

<div class="container">
    <canvas id="loadChart"></canvas>
</div>

{% endblock %}